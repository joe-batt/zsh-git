- clean up the whole thing!
- fix quirky parsing of git status --porcelain
- use proper naming for variables
